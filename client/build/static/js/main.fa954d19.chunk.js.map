{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","res","wrap","_context","prev","next","axios","get","sent","type","payload","data","stop","_x","apply","this","arguments","handleToken","token","_ref2","_callee2","_context2","post","_x2","Payments","_this","react_default","createElement","main_default","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","auth","href","key","components_Payments","style","margin","credits","Link","to","renderContent","state","Landing","textAlign","Dashboard","SurveyNew","App","BrowserRouter","components_Header","Route","exact","path","component","combineReducers","length","undefined","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","es","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.fa954d19.chunk.js","sourcesContent":["import axios from 'axios';\nimport {FETCH_USER} from './types';\n\nexport const fetchUser = () => async dispatch => {\n      const res = await axios.get('/api/current_user')\n      dispatch({type:FETCH_USER, payload: res.data});\n  };\n\n  export const handleToken = token => async dispatch => {\n        const res = await axios.post('/api/stripe', token)\n        dispatch({type:FETCH_USER, payload: res.data});\n    };\n","export const FETCH_USER = 'fetch_user';\n","import React, {Component} from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport {connect} from 'react-redux';\nimport * as actions from '../actions';\n\nclass Payments extends Component {\n  render() {\n    return (\n      <StripeCheckout\n        name=\"Emaily\"\n        description=\"$5 for 5 email credits\"\n        amount={500}  //in cents. US\n        token={token => this.props.handleToken(token)}\n        stripeKey={process.env.REACT_APP_STRIPE_KEY} //callback function after receive an authorized token.\n      >\n        <button className=\"btn\">\n          Add Credits\n        </button>\n      </StripeCheckout>\n    );\n  }\n}\n\nexport default connect(null, actions)(Payments);\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport Payments from './Payments'\n\nclass Header extends Component {\n  renderContent () {\n    switch (this.props.auth) {\n      case null:\n        return;\n      case false:\n        return <li><a href=\"/auth/google\">Log In With Google</a></li>\n      default:\n        return [\n          <li key=\"1\"><Payments/></li>,\n          <li key=\"3\" style={{margin: '0 10px'}}> Credits: {this.props.auth.credits}</li>,\n          <li key=\"2\"><a href=\"/api/logout\">Logout</a></li>\n        ]\n\n    }\n  }\n\n  render () {\n    return (\n      <nav>\n    <div className=\"nav-wrapper\">\n      <Link\n        to={this.props.auth ? '/surveys' : '/'}\n        className=\"left brand-logo\">\n        Emaily\n      </Link>\n      <ul className=\"right\">\n        {this.renderContent()}\n      </ul>\n    </div>\n  </nav>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  return {auth: state.auth}\n}\nexport default connect(mapStateToProps)(Header);\n","import React from 'react';\n\nconst Landing = () => {\n  return (\n    <div style={{textAlign: 'center'}}>\n      <h1>\n        Emaily!\n      </h1>\n      Collect feedback form your users\n    </div>\n  )\n}\n\nexport default Landing;\n","import React, {Component} from'react';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport * as actions from '../actions'\nimport Header from './Header';\nimport Landing from './Landing';\n\nconst Dashboard = () => <h2>Dashboard</h2>\nconst SurveyNew = () => <h2>SurveyNew</h2>\n\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.fetchUser();\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        <BrowserRouter>\n          <div>\n            <Header/>\n            <Route exact path=\"/\" component={Landing}/>\n            <Route exact path=\"/surveys\" component={Dashboard}/>\n            <Route path=\"/surveys/new\" component={SurveyNew}/>\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  }\n};\n\nexport default connect(null, actions)(App);\n","import {combineReducers} from 'redux';\nimport authReducer from './authReducer';\n\nexport default combineReducers ({\n  auth: authReducer\n});\n","import {FETCH_USER} from '../actions/types'\nexport default function(state = null, action) {\n  switch (action.type)  {\n    case FETCH_USER:\n      return action.payload || false\n    default:\n      return state\n  }\n}\n","import 'materialize-css/dist/css/materialize.min.css'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware} from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst store = createStore (reducers, {}, applyMiddleware(reduxThunk));\n\n\n\nReactDOM.render(\n  <Provider store={store}><App/></Provider>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}